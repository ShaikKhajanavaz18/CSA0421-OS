#include <stdio.h>
#include <stdlib.h>

int main() {
    int n, head, disk_size, i, j, temp;
    printf("Enter number of requests: ");
    scanf("%d",&n);
    int req[n];
    printf("Enter requests: ");
    for(i=0;i<n;i++) scanf("%d",&req[i]);
    printf("Enter initial head position: ");
    scanf("%d",&head);
    printf("Enter disk size: ");
    scanf("%d",&disk_size);

    int total = 0;
    int left[n], right[n], l=0, r=0;
    for(i=0;i<n;i++){
        if(req[i]<head) left[l++]=req[i];
        else right[r++]=req[i];
    }

    left[l++] = 0;      // start of disk
    right[r++] = disk_size-1; // end of disk

    for(i=0;i<r-1;i++)
        for(j=0;j<r-i-1;j++)
            if(right[j]>right[j+1]){ temp=right[j]; right[j]=right[j+1]; right[j+1]=temp; }

    for(i=0;i<l-1;i++)
        for(j=0;j<l-i-1;j++)
            if(left[j]>left[j+1]){ temp=left[j]; left[j]=left[j+1]; left[j+1]=temp; }

    printf("\nService Order:\n");
    for(i=0;i<r;i++){
        printf("%d ", right[i]);
        if(i==0) total += abs(head - right[i]);
        else total += abs(right[i]-right[i-1]);
    }
    for(i=0;i<l;i++){
        if(i==0) total += abs(right[r-1]-left[i]);
        else total += abs(left[i]-left[i-1]);
        printf("%d ", left[i]);
    }

    printf("\nTotal head movement = %d\n", total);
    return 0;
}

OUTPUT:
Service Order:
62 64 95 119 123 180 199 0 11 34 
Total head movement = 640
