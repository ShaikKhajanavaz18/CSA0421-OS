#include <stdio.h>
#include <unistd.h>
#include <string.h>

int main() {
    int pfd[2]; char buf[100];
    pipe(pfd);
    if (fork() == 0) {            // Child
        close(pfd[1]);            // close write
        read(pfd[0], buf, sizeof(buf));
        printf("Child received: %s\n", buf);
        close(pfd[0]);
    } else {                      // Parent
        close(pfd[0]);            // close read
        char msg[] = "Hello from parent";
        write(pfd[1], msg, strlen(msg)+1);
        printf("Parent sent: %s\n", msg);
        close(pfd[1]);
    }
    return 0;
}
OUTPUT:
Parent sent: Hello from parent
Child received: Hello from parent
