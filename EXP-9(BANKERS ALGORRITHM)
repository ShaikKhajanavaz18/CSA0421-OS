#include <stdio.h>

int main() {
    int n=3,m=3,i,j,Finish[3]={0},Work[3],Allocation[3][3]={{0,1,0},{2,0,0},{3,0,2}},Max[3][3]={{7,5,3},{3,2,2},{9,0,2}},Need[3][3];

    for(i=0;i<m;i++) Work[i]=3; // Available resources

    for(i=0;i<n;i++) for(j=0;j<m;j++) Need[i][j]=Max[i][j]-Allocation[i][j];

    int done,flag=0;
    do{
        done=1;
        for(i=0;i<n;i++){
            if(!Finish[i]){
                int ok=1;
                for(j=0;j<m;j++) if(Need[i][j]>Work[j]) ok=0;
                if(ok){
                    for(j=0;j<m;j++) Work[j]+=Allocation[i][j];
                    Finish[i]=1; done=0;
                    printf("P%d executed\n",i);
                }
            }
        }
    }while(!done);

    for(i=0;i<n;i++) if(!Finish[i]) flag=1;

    if(flag) printf("System is NOT safe\n");
    else printf("System is SAFE\n");
}
OUTPUT:
P1 executed
P0 executed
P2 executed
System is SAFE
